{"version":3,"file":"static/js/780.9a6d293b.chunk.js","mappings":"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","sources":["components/ChangeUserInfo.js","../node_modules/react-bootstrap/esm/Alert.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport FloatingLabel from \"react-bootstrap/esm/FloatingLabel\";\r\nimport Form from \"react-bootstrap/esm/Form\"\r\nimport Alert from \"react-bootstrap/esm/Alert\"\r\n\r\n// Firebase\r\nimport { doc, setDoc, getDoc } from \"firebase/firestore\"\r\nimport { onAuthStateChanged } from \"firebase/auth\";\r\nimport { db, auth } from \"../firebase-config\"\r\n\r\nexport default function ChangeUserInfo({ nav }) {\r\n    const [name, setName] = useState(\"\")\r\n\r\n    const [user, setUser] = useState(null)\r\n    useEffect(() => {\r\n        onAuthStateChanged(auth, async (user) => {\r\n            console.log(\"onAuthStateChanged\")\r\n            if (!user) return nav(\"/login\")\r\n            const docRef = doc(db, \"users\", user.uid);\r\n            const docSnap = await getDoc(docRef)\r\n            user.extraInfo = docSnap.data()\r\n            setUser(user)\r\n            setName(user.extraInfo.name)\r\n        })\r\n    }, [])\r\n\r\n    const [errorData, setErrorData] = useState({})\r\n\r\n    const submit = async (e) => {\r\n        try {\r\n            await setDoc(doc(db, \"users\", user.uid), {\r\n                name: name\r\n            })\r\n            window.location.reload(false);\r\n        } catch (err) {\r\n            console.log(err)\r\n            setErrorData(err)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"container py-5 \">\r\n            <div className=\"row d-flex align-items-center justify-content-center \">\r\n                <div className=\"col-md-7 col-lg-5 col-xl-5 offset-xl-1\">\r\n                    <form onSubmit={(e) => submit(e)}>\r\n                        {/* {loginVal && <Alert variant=\"danger\">{loginVal}</Alert>} */}\r\n                        {(errorData === \"none\") && <Alert variant=\"success\">Info changed</Alert>}\r\n\r\n                        {/* <!-- Name input --> */}\r\n                        {errorData && (errorData.name && <Alert variant=\"danger\">{errorData.name.message}</Alert>)}\r\n                        <FloatingLabel controlId=\"name\" label=\"Name\" className=\"mb-3\">\r\n                            <Form.Control type=\"text\" autoComplete=\"off\" value={name} onChange={e => setName(e.target.value)} />\r\n                        </FloatingLabel>\r\n\r\n                        {/* <!-- Submit button --> */}\r\n                        <div className=\"d-grid\">\r\n                            <button type=\"submit\" className=\"btn btn-outline-primary btn-lg btn-block\" >Save changes</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import classNames from 'classnames';\nimport * as React from 'react';\nimport { useUncontrolled } from 'uncontrollable';\nimport useEventCallback from '@restart/hooks/useEventCallback';\nimport Anchor from '@restart/ui/Anchor';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport Fade from './Fade';\nimport CloseButton from './CloseButton';\nimport divWithClassName from './divWithClassName';\nimport createWithBsPrefix from './createWithBsPrefix';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst DivStyledAsH4 = divWithClassName('h4');\nDivStyledAsH4.displayName = 'DivStyledAsH4';\nconst AlertHeading = createWithBsPrefix('alert-heading', {\n  Component: DivStyledAsH4\n});\nconst AlertLink = createWithBsPrefix('alert-link', {\n  Component: Anchor\n});\nconst defaultProps = {\n  variant: 'primary',\n  show: true,\n  transition: Fade,\n  closeLabel: 'Close alert'\n};\nconst Alert = /*#__PURE__*/React.forwardRef((uncontrolledProps, ref) => {\n  const {\n    bsPrefix,\n    show,\n    closeLabel,\n    closeVariant,\n    className,\n    children,\n    variant,\n    onClose,\n    dismissible,\n    transition,\n    ...props\n  } = useUncontrolled(uncontrolledProps, {\n    show: 'onClose'\n  });\n  const prefix = useBootstrapPrefix(bsPrefix, 'alert');\n  const handleClose = useEventCallback(e => {\n    if (onClose) {\n      onClose(false, e);\n    }\n  });\n  const Transition = transition === true ? Fade : transition;\n  const alert = /*#__PURE__*/_jsxs(\"div\", {\n    role: \"alert\",\n    ...(!Transition ? props : undefined),\n    ref: ref,\n    className: classNames(className, prefix, variant && `${prefix}-${variant}`, dismissible && `${prefix}-dismissible`),\n    children: [dismissible && /*#__PURE__*/_jsx(CloseButton, {\n      onClick: handleClose,\n      \"aria-label\": closeLabel,\n      variant: closeVariant\n    }), children]\n  });\n  if (!Transition) return show ? alert : null;\n  return /*#__PURE__*/_jsx(Transition, {\n    unmountOnExit: true,\n    ...props,\n    ref: undefined,\n    in: show,\n    children: alert\n  });\n});\nAlert.displayName = 'Alert';\nAlert.defaultProps = defaultProps;\nexport default Object.assign(Alert, {\n  Link: AlertLink,\n  Heading: AlertHeading\n});"],"names":["ChangeUserInfo","nav","useState","name","setName","user","setUser","useEffect","onAuthStateChanged","auth","console","log","docRef","doc","db","uid","getDoc","docSnap","extraInfo","data","errorData","setErrorData","submit","e","setDoc","window","location","reload","className","onSubmit","variant","message","controlId","label","type","autoComplete","value","onChange","target","DivStyledAsH4","divWithClassName","displayName","AlertHeading","createWithBsPrefix","Component","AlertLink","Anchor","defaultProps","show","transition","Fade","closeLabel","Alert","React","uncontrolledProps","ref","useUncontrolled","bsPrefix","closeVariant","children","onClose","dismissible","props","prefix","useBootstrapPrefix","handleClose","useEventCallback","Transition","alert","_jsxs","role","undefined","classNames","_jsx","CloseButton","onClick","unmountOnExit","in","Object","assign","Link","Heading"],"sourceRoot":""}