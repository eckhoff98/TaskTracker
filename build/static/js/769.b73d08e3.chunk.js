"use strict";(self.webpackChunktask_tracker=self.webpackChunktask_tracker||[]).push([[769],{769:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var a=t(4165),s=t(5861),r=t(885),c=t(2791),l=t(1413),i=t(8185),o=t(3053),d=t(3090),u=t(3360),m=t(184),f=function(e){var n=e.task,t=e.form,a=e._cancel,s=(0,c.useState)(n),i=(0,r.Z)(s,2),f=i[0],h=i[1];return(0,m.jsx)("form",{onSubmit:function(){t((0,l.Z)((0,l.Z)({},f),{},{name:""===f.name?"New Task":f.name,freshTask:!1}))},children:(0,m.jsxs)("div",{className:"margin-1em",children:[(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Task",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{autoFocus:!0,autoComplete:"off",className:"form-control name",type:"text",name:"name",placeholder:"task",value:f.name?f.name:"",onChange:function(e){return h((0,l.Z)((0,l.Z)({},f),{},{name:e.target.value}))}})}),(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Description",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{autoComplete:"off",className:"form-control",type:"text",name:"description",placeholder:"description",value:f.description?f.description:"",onChange:function(e){return h((0,l.Z)((0,l.Z)({},f),{},{description:e.target.value}))}})}),(0,m.jsxs)("div",{className:"taskFormTime",children:[(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Time",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{className:"form-control",type:"time",name:"time",placeholder:"time",value:f.time?f.time:"",onChange:function(e){return h((0,l.Z)((0,l.Z)({},f),{},{time:e.target.value}))}})}),(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Date",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{className:"form-control",type:"date",name:"date",value:f.date?f.date:"",onChange:function(e){h((0,l.Z)((0,l.Z)({},f),{},{date:e.target.value}))}})})]}),(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Location",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{autoComplete:"off",className:"form-control",type:"text",name:"location",placeholder:"location",value:f.location?f.location:"",onChange:function(e){return h((0,l.Z)((0,l.Z)({},f),{},{location:e.target.value}))}})}),(0,m.jsxs)("div",{className:"d-grid btn-grid",children:[(0,m.jsx)(u.Z,{variant:"outline-success",type:"submit",size:"lg",children:(0,m.jsx)("strong",{children:"Save"})}),(0,m.jsx)(u.Z,{variant:"outline-danger",type:"button",size:"lg",onClick:function(){return a()},children:(0,m.jsx)("strong",{children:"Cancel"})})]})]})})},h=t(2426),x=t.n(h),j=function(e){var n=e.task,t=e._updateTask,a=e._deleteTask,s=(0,c.useState)(!1),l=(0,r.Z)(s,2),o=l[0],d=l[1],u=(0,c.useState)(n.freshTask),h=(0,r.Z)(u,2),j=h[0],p=h[1];(0,c.useEffect)((function(){g(n.date,n.time)}),[j,o]);var k=function(){if(n.reminder)return(0,m.jsx)(i._Rg,{size:25})},b=function(){a(n),d(!1)},g=function(e,n){var t=new Date(e+" "+n);return x()(t).fromNow()},v=function(){return o?(0,m.jsx)("div",{onClick:function(){return!j&&d(!o)},children:(0,m.jsxs)("div",{className:"card bg-dark",children:[(0,m.jsxs)("div",{className:"card-header taskLess",children:[(0,m.jsx)("h2",{children:n.name}),(0,m.jsxs)("h2",{className:"taskLessInfo",children:[g(n.date,n.time)," \xa0 ",(0,m.jsx)(k,{})]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(i.HlX,{})," ",n.description]}),(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(i.o3f,{})," ",n.date," ",n.time]}),(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(i.ln8,{})," ",n.location]}),(0,m.jsxs)("div",{className:"btn-grid",children:[(0,m.jsx)("button",{className:"btn btn-outline-primary btn-lg",onClick:function(){p(!0)},children:(0,m.jsx)("strong",{children:"Edit"})}),(0,m.jsx)("button",{className:"btn btn-outline-danger btn-lg",onClick:function(){b()},children:(0,m.jsx)("strong",{children:"Delete "})})]})]})]})}):(0,m.jsx)("div",{onClick:function(){return!j&&d(!o)},children:(0,m.jsx)("div",{className:"card bg-dark",children:(0,m.jsxs)("div",{className:"card-header taskLess",children:[(0,m.jsx)("h2",{children:n.name}),(0,m.jsxs)("h2",{className:"taskLessInfo",children:[g(n.date,n.time)," \xa0 ",(0,m.jsx)(k,{})]})]})})})};return j?(0,m.jsx)("div",{className:"card bg-dark",children:(0,m.jsx)(f,{task:n,form:function(e){t(e),p(!1)},_cancel:function(){n.freshTask?b():p(!1)}})}):(0,m.jsx)(v,{})},p=function(e){var n=e._addTask;return(0,m.jsxs)("div",{className:"tasksHeader",children:[(0,m.jsx)("button",{className:"btn btn-primary btn-lg",type:"button",onClick:function(){return n({name:"",description:"",location:"",reminder:!1})},children:"Add Task"}),(0,m.jsx)("button",{className:"btn btn-lg btn-outline-primary",children:"Button"}),(0,m.jsx)("button",{className:"btn btn-lg btn-outline-primary",children:"Button"})]})},k=t(1978),b=t(9460),g=t(8652),v=function(e){var n=e.tasks,t=e._updateTask,l=e._deleteTask,i=e._addTask,o=e.nav,d=(0,c.useState)(null),u=(0,r.Z)(d,2),f=(u[0],u[1]);return(0,c.useEffect)((function(){(0,b.Aj)(g.I8,function(){var e=(0,s.Z)((0,a.Z)().mark((function e(n){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onAuthStateChanged"),n){e.next=3;break}return e.abrupt("return",o("/"));case 3:return t=(0,k.JU)(g.db,"users",n.uid),e.next=6,(0,k.QT)(t);case 6:s=e.sent,n.extraInfo=s.data(),f(n);case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"tasks",children:[(0,m.jsx)(p,{_addTask:i}),n.map((function(e,n){return(0,m.jsx)(j,{task:e,_updateTask:t,_deleteTask:l},n)}))]})})}}}]);
//# sourceMappingURL=769.b73d08e3.chunk.js.map