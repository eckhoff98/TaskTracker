"use strict";(self.webpackChunktask_tracker=self.webpackChunktask_tracker||[]).push([[127],{8127:function(e,t,n){n.r(t),n.d(t,{default:function(){return N}});var a=n(4165),s=n(5861),r=n(885),i=n(2791),c=n(1413),l=n(8185),o=n(3053),d=n(3090),u=n(3360),m=n(184),f=function(e){var t=e.task,n=e.form,a=e._cancel,s=(0,i.useState)(t),f=(0,r.Z)(s,2),x=f[0],h=f[1],j=(0,i.useState)(),g=(0,r.Z)(j,2),p=g[0],k=g[1];(0,i.useEffect)((function(){k(function(e){var t=new Date(e);return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),t.toISOString().slice(0,16)}(t.datetime))}),[]);var b=function(){if(x.reminder)return(0,m.jsx)(l._Rg,{size:25})};return(0,m.jsx)("form",{onSubmit:function(){n((0,c.Z)((0,c.Z)({},x),{},{name:""===x.name?"New Task":x.name,freshTask:!1}))},children:(0,m.jsxs)("div",{className:"margin-1em",children:[(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Task",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{autoFocus:!0,autoComplete:"off",className:"form-control name",type:"text",name:"name",placeholder:"task",defaultValue:x.name?x.name:"",onChange:function(e){return h((0,c.Z)((0,c.Z)({},x),{},{name:e.target.value}))}})}),(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Description",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{autoComplete:"off",className:"form-control",type:"text",name:"description",placeholder:"description",defaultValue:x.description?x.description:"",onChange:function(e){return h((0,c.Z)((0,c.Z)({},x),{},{description:e.target.value}))}})}),(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"datetime",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{className:"form-control",type:"datetime-local",name:"datetime",placeholder:"date time",defaultValue:p,onChange:function(e){k(e.target.value),h((0,c.Z)((0,c.Z)({},x),{},{datetime:e.target.value}))}})}),(0,m.jsxs)("div",{className:"btn-grid",children:[(0,m.jsx)("div",{className:"taskFormTime"}),(0,m.jsxs)(u.Z,{className:"mb-3",type:"button",variant:"outline-primary",size:"lg",style:{padding:"0"},onClick:function(){return h((0,c.Z)((0,c.Z)({},x),{},{reminder:!x.reminder}))},children:["Reminder ( ! )",(0,m.jsx)(b,{})]})]}),(0,m.jsx)(o.Z,{controlId:"floatingInput",label:"Location",className:"mb-3",children:(0,m.jsx)(d.Z.Control,{autoComplete:"off",className:"form-control",type:"text",name:"location",placeholder:"location",defaultValue:x.location?x.location:"",onChange:function(e){return h((0,c.Z)((0,c.Z)({},x),{},{location:e.target.value}))}})}),(0,m.jsxs)("div",{className:"d-grid btn-grid",children:[(0,m.jsx)(u.Z,{variant:"outline-success",type:"submit",size:"lg",children:(0,m.jsx)("strong",{children:"Save"})}),(0,m.jsx)(u.Z,{variant:"outline-danger",type:"button",size:"lg",onClick:function(){return a()},children:(0,m.jsx)("strong",{children:"Cancel"})})]})]})})},x=n(2426),h=n.n(x),j=function(e){var t=e,n=("0"+t.getDate()).slice(-2),a=("0"+(t.getMonth()+1)).slice(-2),s=t.getFullYear()+"-"+a+"-"+n;return console.log("today "+s),s},g=function(e){var t=e.task,n=e._updateTask,a=e._deleteTask,s=(0,i.useState)(!1),c=(0,r.Z)(s,2),o=c[0],d=c[1],u=(0,i.useState)(t.freshTask),x=(0,r.Z)(u,2),g=x[0],p=x[1];(0,i.useEffect)((function(){v(t.date,t.time)}),[g,o]);var k=function(){if(t.reminder)return(0,m.jsx)(l._Rg,{size:25})},b=function(){a(t),d(!1)},v=function(e){var t=new Date(e);return h()(t).fromNow()},N=function(){return o?(0,m.jsx)("div",{onClick:function(){return!g&&d(!o)},children:(0,m.jsxs)("div",{className:"card bg-dark",children:[(0,m.jsxs)("div",{className:"card-header taskLess",children:[(0,m.jsx)("h2",{children:t.name}),(0,m.jsxs)("h2",{className:"taskLessInfo",children:[v(t.datetime)," \xa0 ",(0,m.jsx)(k,{})]})]}),(0,m.jsxs)("div",{className:"card-body",children:[(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(l.HlX,{})," ",t.description]}),(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(l.o3f,{})," ",j(new Date(t.datetime))]}),(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(l.YZq,{})," ",new Date(t.datetime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),(0,m.jsxs)("p",{className:"card-text",children:[(0,m.jsx)(l.ln8,{})," ",t.location]}),(0,m.jsxs)("div",{className:"btn-grid",children:[(0,m.jsx)("button",{className:"btn btn-outline-primary btn-lg",onClick:function(){p(!0)},children:(0,m.jsx)("strong",{children:"Edit"})}),(0,m.jsx)("button",{className:"btn btn-outline-danger btn-lg",onClick:function(){b()},children:(0,m.jsx)("strong",{children:"Delete "})})]})]})]})}):(0,m.jsx)("div",{onClick:function(){return!g&&d(!o)},children:(0,m.jsx)("div",{className:"card bg-dark",children:(0,m.jsxs)("div",{className:"card-header taskLess",children:[(0,m.jsx)("h2",{children:t.name}),(0,m.jsxs)("h2",{className:"taskLessInfo",children:[v(t.datetime)," \xa0 ",(0,m.jsx)(k,{})]})]})})})};return g?(0,m.jsx)("div",{className:"card bg-dark",children:(0,m.jsx)(f,{task:t,form:function(e){n(e),p(!1)},_cancel:function(){t.freshTask?b():p(!1)}})}):(0,m.jsx)(N,{})},p=n(8652),k=function(e){var t=e._addTask;return(0,m.jsxs)("div",{className:"tasksHeader",children:[(0,m.jsx)("button",{className:"btn btn-primary btn-lg",type:"button",onClick:function(){return t({name:"",description:"",location:"",reminder:!1})},children:"Add Task"}),(0,m.jsx)("button",{className:"btn btn-lg btn-outline-primary",children:"Button"}),(0,m.jsx)("button",{className:"btn btn-lg btn-outline-primary",children:"Button"})]})},b=n(1978),v=n(9460),N=function(e){var t=e.tasks,n=e._updateTask,c=e._deleteTask,l=e._addTask,o=e.nav,d=(0,i.useState)(null),u=(0,r.Z)(d,2),f=(u[0],u[1]);return(0,i.useEffect)((function(){(0,v.Aj)(p.I8,function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onAuthStateChanged"),t){e.next=3;break}return e.abrupt("return",o("/"));case 3:return n=(0,b.JU)(p.db,"users",t.uid),e.next=6,(0,b.QT)(n);case 6:s=e.sent,t.extraInfo=s.data(),f(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"tasks",children:[(0,m.jsx)(k,{_addTask:l}),t.map((function(e,t){return(0,m.jsx)(g,{task:e,_updateTask:n,_deleteTask:c},t)}))]})})}}}]);
//# sourceMappingURL=127.7b032935.chunk.js.map