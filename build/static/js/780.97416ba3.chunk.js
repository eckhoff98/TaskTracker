"use strict";(self.webpackChunktask_tracker=self.webpackChunktask_tracker||[]).push([[780],{1780:function(e,n,a){a.r(n),a.d(n,{default:function(){return h}});var t=a(4165),r=a(5861),s=a(885),i=a(2791),l=a(3053),o=a(3090),c=a(2469),u=a(1978),d=a(9460),f=a(8652),m=a(184);function h(e){var n=e.nav,a=(0,i.useState)(""),h=(0,s.Z)(a,2),v=h[0],x=h[1],b=(0,i.useState)(null),p=(0,s.Z)(b,2),Z=p[0],g=p[1];(0,i.useEffect)((function(){(0,d.Aj)(f.I8,function(){var e=(0,r.Z)((0,t.Z)().mark((function e(a){var r,s;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("onAuthStateChanged"),a){e.next=3;break}return e.abrupt("return",n("/login"));case 3:return r=(0,u.JU)(f.db,"users",a.uid),e.next=6,(0,u.QT)(r);case 6:s=e.sent,a.extraInfo=s.data(),g(a),x(a.extraInfo.name);case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}())}),[]);var j=(0,i.useState)({}),k=(0,s.Z)(j,2),w=k[0],C=k[1],N=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(n){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Changing name"),e.next=4,(0,u.pl)((0,u.JU)(f.db,"users",Z.uid),{name:v});case 4:window.location.reload(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),C(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsx)("div",{className:"container py-5 ",children:(0,m.jsx)("div",{className:"row d-flex align-items-center justify-content-center ",children:(0,m.jsx)("div",{className:"col-md-7 col-lg-5 col-xl-5 offset-xl-1",children:(0,m.jsxs)("form",{onSubmit:function(e){return N(e)},children:["none"===w&&(0,m.jsx)(c.Z,{variant:"success",children:"Info changed"}),w&&w.name&&(0,m.jsx)(c.Z,{variant:"danger",children:w.name.message}),(0,m.jsx)(l.Z,{controlId:"name",label:"Name",className:"mb-3",children:(0,m.jsx)(o.Z.Control,{type:"text",value:v,onChange:function(e){return x(e.target.value)}})}),(0,m.jsx)("div",{className:"d-grid",children:(0,m.jsx)("button",{type:"submit",className:"btn btn-outline-primary btn-lg btn-block",children:"Save changes"})})]})})})})}},2469:function(e,n,a){var t=a(1413),r=a(5987),s=a(1694),i=a.n(s),l=a(2791),o=a(8580),c=a(9007),u=a(6445),d=a(162),f=a(2709),m=a(473),h=a(7472),v=a(6543),x=a(184),b=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],p=(0,h.Z)("h4");p.displayName="DivStyledAsH4";var Z=(0,v.Z)("alert-heading",{Component:p}),g=(0,v.Z)("alert-link",{Component:u.Z}),j={variant:"primary",show:!0,transition:f.Z,closeLabel:"Close alert"},k=l.forwardRef((function(e,n){var a=(0,o.Ch)(e,{show:"onClose"}),s=a.bsPrefix,l=a.show,u=a.closeLabel,h=a.closeVariant,v=a.className,p=a.children,Z=a.variant,g=a.onClose,j=a.dismissible,k=a.transition,w=(0,r.Z)(a,b),C=(0,d.vE)(s,"alert"),N=(0,c.Z)((function(e){g&&g(!1,e)})),y=!0===k?f.Z:k,S=(0,x.jsxs)("div",(0,t.Z)((0,t.Z)({role:"alert"},y?void 0:w),{},{ref:n,className:i()(v,C,Z&&"".concat(C,"-").concat(Z),j&&"".concat(C,"-dismissible")),children:[j&&(0,x.jsx)(m.Z,{onClick:N,"aria-label":u,variant:h}),p]}));return y?(0,x.jsx)(y,(0,t.Z)((0,t.Z)({unmountOnExit:!0},w),{},{ref:void 0,in:l,children:S})):l?S:null}));k.displayName="Alert",k.defaultProps=j,n.Z=Object.assign(k,{Link:g,Heading:Z})}}]);
//# sourceMappingURL=780.97416ba3.chunk.js.map